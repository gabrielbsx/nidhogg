var OngameHeader={version:"1.7.54",theme:null,language:null,init:function(){this.load_vars(),this.remove_elements()},load_vars:function(){var e=$("script[data-header]");this.theme=e.attr("data-theme"),this.language=e.attr("data-language"),this.local=e.attr("data-local"),this.local||(this.local="body"),this.load_hosts(e.attr("src"))},load_hosts:function(e){var t=e.split("://"),a=t[1].split("../index.html");if(this.protocol=t[0],this.locale="es"===this.language?"la":"br",a[0].indexOf("localhost")>=0||a[0].indexOf("10.0.")>=0)this.domain=a[0].split(":")[0],this.site_domain=this.domain+":8011",this.environment="dev",this.minha_conta=this.domain+":8001",this.loja=this.domain+":8007",this.portal=this.domain+":8008",this.cdz=this.domain+":8011",this.status=this.domain+":8013";else{var i=a[0].split(".")[2];this.environment="net"!==i&&"teste"!==i?"net":i,this.portal=this.locale+".ongame."+this.environment,this.cdz=this.locale+".cdz.ongame."+this.environment,this.status=this.locale+".status.ongame."+this.environment;var n="";"la"===this.locale?(n="la",this.loja="tienda.ongame."+this.environment+"/",this.minha_conta="micuenta.ongame."+this.environment):(n="br",this.loja="loja.ongame."+this.environment+"/",this.minha_conta="minhaconta.ongame."+this.environment),this.domain=n+".ongame."+this.environment,this.site_domain=document.domain}this.insert_header_tag()},insert_header_tag:function(){return"17"!==this.theme?$(this.local).prepend('<header id="ongame-header"></header>'):$(this.local).prepend('<div class="top-header-fixed"></div>'),this.load_template()},load_template:function(){var e=this,t="17"!==e.theme?$("header#ongame-header"):$(".top-header-fixed");"17"!==e.theme&&t.addClass("footer-jogo-"+e.theme);var a="ongame-header-"+e.theme+"-"+e.language+"-"+e.version,i=localStorage.getItem(a);i?(t.html(i),e.submenu_mobile()):$.ajax({url:e.protocol+"://"+e.domain+"/header/header-"+e.theme+"-"+e.language+".html"}).done(function(i){i=e.set_template_tags(i),t.html(i),localStorage.setItem(a,i),e.submenu_mobile()})},set_template_tags:function(e){return e=this.replace_template_tags(e,"environment",this.environment),e=this.replace_template_tags(e,"site_domain",this.site_domain),e=this.replace_template_tags(e,"protocol",this.protocol),e=this.replace_template_tags(e,"portal",this.portal),e=this.replace_template_tags(e,"status",this.status),e=this.replace_template_tags(e,"loja",this.loja),e=this.replace_template_tags(e,"cdz",this.cdz),e=this.replace_template_tags(e,"year",(new Date).getFullYear())},replace_template_tags:function(e,t,a){return(e=e.replace(/{{ /g,"{{").replace(/ }}/g,"}}")).replace(new RegExp("{{"+t+"}}","g"),a)},remove_elements:function(){var e=$("#wrap").find("#page-header");e.find(".navbar-top").remove(),e.find(".headerbar").remove()},submenu_mobile:function(){if("17"!==this.theme){var e=$(".ongame-mobile-nav-button"),t=e.next(),a=$(".ongame-nav__link"),i=$(".ongame-nav__submenu");function n(){e.bind({click:function(){t.slideToggle()}}),a.bind({click:function(){a.removeClass("active"),$(this).next(i).is(":visible")?$(this).next(i).slideUp():(i.slideUp(),$(this).next(i).slideToggle(),$(this).addClass("active"))}})}e.is(":visible")&&n(),$(window).resize(function(){e.unbind(),a.unbind(),e.is(":visible")&&n()})}else{window.addEventListener("resize",function(){is_header_mobile=document.querySelector(".is-header-mobile").offsetParent,is_header_mobile&&function(){for(var e=document.querySelectorAll(".header__link"),t=e.length-1;t>=0;t--)e[t].onclick=function(){this.classList.contains("header__link-btn")||this.classList.toggle("active")}}()}),function(){var e=document.querySelector(".js-mobile-menu-btn"),t=document.querySelectorAll(".js-mobile-close-menu-btn");e.onclick=function(){this.classList.add("active"),document.body.style.overflowY="hidden",document.body.classList.add("change-header-index")};for(var a=t.length-1;a>=0;a--)t[a].onclick=function(){e.classList.remove("active"),document.body.style.overflowY="auto",document.body.classList.remove("change-header-index")}}()}}};$(document).ready(function(){OngameHeader.init()});